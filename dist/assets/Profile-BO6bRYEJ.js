import{p as Se,v as be,F as le,r as n,w as Ce,o as G,G as Ie,H as $e,J as we,c as ze,d as Ee,f as Re,I as P,u as M,E as Oe,n as e,S as Le,D as y,B as w,K as A,L as Pe,M as Me,V as D}from"./index-C1jPfLpN.js";import{R as Be,a as Ne,I as U,i as Q}from"./axios-Dw95He_a.js";import{F as z}from"./index-CdWupBHV.js";import{T as ie,a as W}from"./index-CwpRQ_G_.js";import{C as J}from"./index-Ba5oGAzT.js";import{p as Te,a as ke,b as He,R as Z,C as E}from"./index-yLuTEnO8.js";import{R as Ae}from"./InfoCircleFilled-iJivFFhw.js";import{_ as De}from"./callSuper-CyCC-7Or.js";import{R as ee}from"./EditOutlined-o5ZzG4s9.js";import{D as Ue}from"./index-CoT1Wun7.js";import{D as _e}from"./index-sIQuKxt4.js";import{S as L}from"./index-B3ETTD5_.js";import{R as Ve}from"./SaveOutlined-D8YH-B8U.js";import{M as Fe}from"./index-DvjkD5JD.js";import"./index-CgWa4Pn3.js";import"./context-sBvRoCxi.js";const _=(t,r,o,s,a)=>({background:t,border:`${le(s.lineWidth)} ${s.lineType} ${r}`,[`${a}-icon`]:{color:o}}),We=t=>{const{componentCls:r,motionDurationSlow:o,marginXS:s,marginSM:a,fontSize:i,fontSizeLG:d,lineHeight:f,borderRadiusLG:p,motionEaseInOutCirc:x,withDescriptionIconSize:j,colorText:h,colorTextHeading:I,withDescriptionPadding:S,defaultPadding:c}=t;return{[r]:Object.assign(Object.assign({},be(t)),{position:"relative",display:"flex",alignItems:"center",padding:c,wordWrap:"break-word",borderRadius:p,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:i,lineHeight:f},"&-message":{color:I},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${o} ${x}, opacity ${o} ${x},
        padding-top ${o} ${x}, padding-bottom ${o} ${x},
        margin-bottom ${o} ${x}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:S,[`${r}-icon`]:{marginInlineEnd:a,fontSize:j,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:s,color:I,fontSize:d},[`${r}-description`]:{display:"block",color:h}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Je=t=>{const{componentCls:r,colorSuccess:o,colorSuccessBorder:s,colorSuccessBg:a,colorWarning:i,colorWarningBorder:d,colorWarningBg:f,colorError:p,colorErrorBorder:x,colorErrorBg:j,colorInfo:h,colorInfoBorder:I,colorInfoBg:S}=t;return{[r]:{"&-success":_(a,s,o,t,r),"&-info":_(S,I,h,t,r),"&-warning":_(f,d,i,t,r),"&-error":Object.assign(Object.assign({},_(j,x,p,t,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},Ge=t=>{const{componentCls:r,iconCls:o,motionDurationMid:s,marginXS:a,fontSizeIcon:i,colorIcon:d,colorIconHover:f}=t;return{[r]:{"&-action":{marginInlineStart:a},[`${r}-close-icon`]:{marginInlineStart:a,padding:0,overflow:"hidden",fontSize:i,lineHeight:le(i),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${o}-close`]:{color:d,transition:`color ${s}`,"&:hover":{color:f}}},"&-close-text":{color:d,transition:`color ${s}`,"&:hover":{color:f}}}}},qe=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`}),Xe=Se("Alert",t=>[We(t),Je(t),Ge(t)],qe);var re=function(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(o[s[a]]=t[s[a]]);return o};const Ye={success:Ne,info:Ae,error:ke,warning:Be},Ke=t=>{const{icon:r,prefixCls:o,type:s}=t,a=Ye[s]||null;return r?we(r,n.createElement("span",{className:`${o}-icon`},r),()=>({className:G(`${o}-icon`,r.props.className)})):n.createElement(a,{className:`${o}-icon`})},Qe=t=>{const{isClosable:r,prefixCls:o,closeIcon:s,handleClose:a,ariaProps:i}=t,d=s===!0||s===void 0?n.createElement(He,null):s;return r?n.createElement("button",Object.assign({type:"button",onClick:a,className:`${o}-close-icon`,tabIndex:0},i),d):null},ce=n.forwardRef((t,r)=>{const{description:o,prefixCls:s,message:a,banner:i,className:d,rootClassName:f,style:p,onMouseEnter:x,onMouseLeave:j,onClick:h,afterClose:I,showIcon:S,closable:c,closeText:R,closeIcon:b,action:T,id:k}=t,F=re(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[H,l]=n.useState(!1),m=n.useRef(null);n.useImperativeHandle(r,()=>({nativeElement:m.current}));const{getPrefixCls:g,direction:$,closable:O,closeIcon:q,className:de,style:pe}=Ce("alert"),u=g("alert",s),[me,ue,fe]=Xe(u),xe=C=>{var B;l(!0),(B=t.onClose)===null||B===void 0||B.call(t,C)},X=n.useMemo(()=>t.type!==void 0?t.type:i?"warning":"info",[t.type,i]),ge=n.useMemo(()=>typeof c=="object"&&c.closeIcon||R?!0:typeof c=="boolean"?c:b!==!1&&b!==null&&b!==void 0?!0:!!O,[R,b,c,O]),Y=i&&S===void 0?!0:S,he=G(u,`${u}-${X}`,{[`${u}-with-description`]:!!o,[`${u}-no-icon`]:!Y,[`${u}-banner`]:!!i,[`${u}-rtl`]:$==="rtl"},de,d,f,fe,ue),ye=Te(F,{aria:!0,data:!0}),je=n.useMemo(()=>typeof c=="object"&&c.closeIcon?c.closeIcon:R||(b!==void 0?b:typeof O=="object"&&O.closeIcon?O.closeIcon:q),[b,c,R,q]),ve=n.useMemo(()=>{const C=c??O;if(typeof C=="object"){const{closeIcon:B}=C;return re(C,["closeIcon"])}return{}},[c,O]);return me(n.createElement(Ie,{visible:!H,motionName:`${u}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:C=>({maxHeight:C.offsetHeight}),onLeaveEnd:I},({className:C,style:B},K)=>n.createElement("div",Object.assign({id:k,ref:$e(m,K),"data-show":!H,className:G(he,C),style:Object.assign(Object.assign(Object.assign({},pe),p),B),onMouseEnter:x,onMouseLeave:j,onClick:h,role:"alert"},ye),Y?n.createElement(Ke,{description:o,icon:t.icon,prefixCls:u,type:X}):null,n.createElement("div",{className:`${u}-content`},a?n.createElement("div",{className:`${u}-message`},a):null,o?n.createElement("div",{className:`${u}-description`},o):null),T?n.createElement("div",{className:`${u}-action`},T):null,n.createElement(Qe,{isClosable:ge,prefixCls:u,closeIcon:je,handleClose:xe,ariaProps:ve}))))});let Ze=function(t){function r(){var o;return Re(this,r),o=De(this,r,arguments),o.state={error:void 0,info:{componentStack:""}},o}return ze(r,t),Ee(r,[{key:"componentDidCatch",value:function(s,a){this.setState({error:s,info:a})}},{key:"render",value:function(){const{message:s,description:a,id:i,children:d}=this.props,{error:f,info:p}=this.state,x=(p==null?void 0:p.componentStack)||null,j=typeof s>"u"?(f||"").toString():s,h=typeof a>"u"?x:a;return f?n.createElement(ce,{id:i,type:"error",message:j,description:n.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},h)}):d}}])}(n.Component);const V=ce;V.ErrorBoundary=Ze;var er={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},rr=function(r,o){return n.createElement(P,M({},r,{ref:o,icon:er}))},te=n.forwardRef(rr),tr={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},or=function(r,o){return n.createElement(P,M({},r,{ref:o,icon:tr}))},oe=n.forwardRef(or),nr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zm-126 534.1H250.3l-53.8-409.4 139.8 86.1L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4zM512 509c-62.1 0-112.6 50.5-112.6 112.6S449.9 734.2 512 734.2s112.6-50.5 112.6-112.6S574.1 509 512 509zm0 160.9c-26.6 0-48.2-21.6-48.2-48.3 0-26.6 21.6-48.3 48.2-48.3s48.2 21.6 48.2 48.3c0 26.6-21.6 48.3-48.2 48.3z"}}]},name:"crown",theme:"outlined"},sr=function(r,o){return n.createElement(P,M({},r,{ref:o,icon:nr}))},N=n.forwardRef(sr),ar={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"},lr=function(r,o){return n.createElement(P,M({},r,{ref:o,icon:ar}))},ir=n.forwardRef(lr),cr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},dr=function(r,o){return n.createElement(P,M({},r,{ref:o,icon:cr}))},ne=n.forwardRef(dr),pr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},mr=function(r,o){return n.createElement(P,M({},r,{ref:o,icon:pr}))},se=n.forwardRef(mr),ur={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},fr=function(r,o){return n.createElement(P,M({},r,{ref:o,icon:ur}))},ae=n.forwardRef(fr);const{Title:xr,Text:v}=ie,Pr=()=>{const t=Oe(),[r,o]=n.useState(null),[s,a]=n.useState(!0),[i,d]=n.useState(null),[f,p]=n.useState(!1),[x,j]=n.useState(!1),[h]=z.useForm(),I=()=>{const l=localStorage.getItem("user");if(l)try{return JSON.parse(l)._id}catch(m){return console.error("Error parsing user data from localStorage:",m),localStorage.removeItem("user"),null}return null},S=async()=>{const l=I();if(!l){a(!1),t("/login");return}a(!0),d(null);try{const m=await Q.get(`/api/users/${l}`);o(m.data),localStorage.setItem("user",JSON.stringify(m.data))}catch(m){console.error("Error fetching user details:",m),d("Failed to load user profile. Please check your network or try again.");const g=localStorage.getItem("user");if(g)try{const $=JSON.parse(g);o($),D.error("Using cached profile data. Please refresh to get latest information.")}catch($){console.error("Error parsing fallback user data:",$),localStorage.removeItem("user"),t("/login")}else t("/login")}finally{a(!1)}};n.useEffect(()=>{S()},[t]);const c=()=>{Fe.confirm({title:"Confirm Logout",content:"Are you sure you want to logout?",okText:"Yes, Logout",cancelText:"Cancel",okType:"danger",onOk:()=>{localStorage.removeItem("user"),t("/login")}})},R=l=>(l==null?void 0:l.toLowerCase())==="active"?"success":"error",b=l=>(l==null?void 0:l.toLowerCase())==="active"?e.jsx(te,{}):e.jsx(oe,{}),T=l=>({superadmin:"red",admin:"blue",employee:"green",user:"green",manager:"orange",moderator:"purple"})[l==null?void 0:l.toLowerCase()]||"default",k=()=>{S()},F=()=>{r?(h.setFieldsValue({name:r.name,email:r.email,mobile:r.mobile||"",role:r.role,status:r.status}),p(!0)):D.error("User data not loaded yet. Please try refreshing.")},H=async()=>{var l,m;try{j(!0);const g=await h.validateFields();g.password||delete g.password;const $=await Q.put(`/api/users/${r._id}`,g);o($.data),localStorage.setItem("user",JSON.stringify($.data)),D.success("Profile updated successfully!"),p(!1)}catch(g){console.error("Error updating profile:",g),D.error(((m=(l=g==null?void 0:g.response)==null?void 0:l.data)==null?void 0:m.message)||"Failed to update profile. Please try again.")}finally{j(!1)}};return s?e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",flexDirection:"column",gap:"16px"},children:[e.jsx(Le,{size:"large"}),e.jsx(ie.Text,{type:"secondary",children:"Loading your profile..."})]}):i&&!r?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",padding:"20px"},children:e.jsxs(J,{style:{maxWidth:"400px",textAlign:"center"},children:[e.jsx(V,{message:"Profile Load Error",description:i,type:"error",showIcon:!0,style:{marginBottom:"16px"}}),e.jsxs(y,{children:[e.jsx(w,{type:"primary",onClick:k,icon:e.jsx(ae,{}),children:"Retry"}),e.jsx(w,{onClick:()=>t("/login"),children:"Back to Login"})]})]})}):r?e.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",padding:"40px 20px"},children:e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsx(J,{style:{marginBottom:"24px",borderRadius:"16px",boxShadow:"0 8px 24px rgba(0,0,0,0.12)",border:"none"},children:e.jsxs(Z,{align:"middle",gutter:24,children:[e.jsx(E,{children:e.jsx(Pe,{size:80,icon:e.jsx(A,{}),style:{backgroundColor:"#1890ff",fontSize:"32px"}})}),e.jsxs(E,{flex:1,children:[e.jsx(xr,{level:2,style:{margin:0,color:"#1890ff"},children:r.name}),e.jsx(v,{type:"secondary",style:{fontSize:"16px"},children:"Welcome back to your profile"})]}),e.jsx(E,{children:e.jsxs(y,{children:[e.jsx(w,{type:"default",icon:e.jsx(ae,{}),size:"large",onClick:k,style:{borderRadius:"8px"},title:"Refresh Profile"}),e.jsx(w,{type:"default",icon:e.jsx(ee,{}),size:"large",onClick:F,style:{borderRadius:"8px"},children:"Edit Profile"}),e.jsx(w,{type:"primary",danger:!0,icon:e.jsx(Me,{}),onClick:c,size:"large",style:{borderRadius:"8px"},children:"Logout"})]})})]})}),e.jsxs(J,{title:e.jsxs(y,{children:[e.jsx(ir,{}),e.jsx("span",{children:"Profile Information"})]}),style:{borderRadius:"16px",boxShadow:"0 8px 24px rgba(0,0,0,0.12)",border:"none"},headStyle:{borderBottom:"2px solid #f0f0f0",fontSize:"18px",fontWeight:"600"},children:[e.jsxs(Z,{gutter:[24,24],children:[e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"FULL NAME"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(A,{style:{marginRight:"8px",color:"#1890ff"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.name})]})]})}),e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"EMAIL ADDRESS"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(ne,{style:{marginRight:"8px",color:"#52c41a"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.email})]})]})}),e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"MOBILE NUMBER"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(se,{style:{marginRight:"8px",color:"#52c41a"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.mobile||"Not provided"}),r.mobile&&e.jsx(W,{color:"success",size:"small",style:{marginLeft:"8px",borderRadius:"4px"},children:"Verified"})]})]})}),e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"ROLE"}),e.jsx("div",{style:{marginTop:"4px"},children:e.jsx(W,{icon:e.jsx(N,{}),color:T(r.role),style:{fontSize:"14px",padding:"4px 12px",borderRadius:"6px",textTransform:"capitalize"},children:r.role})})]})}),e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"STATUS"}),e.jsx("div",{style:{marginTop:"4px"},children:e.jsx(W,{icon:b(r.status),color:R(r.status),style:{fontSize:"14px",padding:"4px 12px",borderRadius:"6px",textTransform:"capitalize"},children:r.status})})]})})]}),e.jsx(Ue,{}),e.jsx("div",{style:{textAlign:"center",paddingTop:"16px"},children:e.jsxs(y,{direction:"vertical",size:4,children:[e.jsxs(v,{type:"secondary",style:{fontSize:"14px"},children:["Profile last updated:"," ",r.updatedAt?new Date(r.updatedAt).toLocaleString():new Date().toLocaleDateString()]}),i&&e.jsx(V,{message:"Some data may be outdated",type:"warning",size:"small",showIcon:!0,style:{marginTop:"8px"}})]})})]}),e.jsx(_e,{title:e.jsxs(y,{children:[e.jsx(ee,{}),e.jsx("span",{children:"Edit Profile"})]}),open:f,onClose:()=>p(!1),width:480,destroyOnClose:!0,extra:e.jsxs(y,{children:[e.jsx(w,{onClick:()=>p(!1),children:"Cancel"}),e.jsx(w,{type:"primary",icon:e.jsx(Ve,{}),loading:x,onClick:H,children:"Save Changes"})]}),children:e.jsxs(z,{form:h,layout:"vertical",requiredMark:"optional",children:[e.jsx(z.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please enter full name"},{min:2,message:"Name must be at least 2 characters"}],children:e.jsx(U,{prefix:e.jsx(A,{}),placeholder:"Enter full name",size:"large"})}),e.jsx(z.Item,{name:"email",label:"Email Address",rules:[{required:!0,message:"Please enter email address"},{type:"email",message:"Please enter a valid email"}],children:e.jsx(U,{prefix:e.jsx(ne,{}),placeholder:"Enter email address",size:"large"})}),e.jsx(z.Item,{name:"mobile",label:"Mobile Number",rules:[{pattern:/^[0-9]{10}$/,message:"Please enter a valid 10-digit mobile number"}],children:e.jsx(U,{prefix:e.jsx(se,{}),placeholder:"Enter mobile number",size:"large",style:{color:"#52c41a"}})}),e.jsx(z.Item,{name:"password",label:"New Password (Optional)",rules:[{min:6,message:"Password must be at least 6 characters"}],children:e.jsx(U.Password,{placeholder:"Leave blank to keep current password",size:"large"})}),e.jsx(z.Item,{name:"role",label:"Role",children:e.jsxs(L,{placeholder:"Select role",size:"large",disabled:(r==null?void 0:r.role)!=="Superadmin",suffixIcon:e.jsx(N,{}),children:[e.jsx(L.Option,{value:"Superadmin",children:e.jsxs(y,{children:[e.jsx(N,{style:{color:"#ff4d4f"}}),e.jsx("span",{children:"Superadmin"})]})}),e.jsx(L.Option,{value:"Admin",children:e.jsxs(y,{children:[e.jsx(N,{style:{color:"#1890ff"}}),e.jsx("span",{children:"Admin"})]})}),e.jsx(L.Option,{value:"Employee",children:e.jsxs(y,{children:[e.jsx(N,{style:{color:"#52c41a"}}),e.jsx("span",{children:"Employee"})]})})]})}),e.jsx(z.Item,{name:"status",label:"Status",children:e.jsxs(L,{placeholder:"Select status",size:"large",disabled:(r==null?void 0:r.role)!=="Superadmin",children:[e.jsx(L.Option,{value:"Active",children:e.jsxs(y,{children:[e.jsx(te,{style:{color:"#52c41a"}}),e.jsx("span",{children:"Active"})]})}),e.jsx(L.Option,{value:"Inactive",children:e.jsxs(y,{children:[e.jsx(oe,{style:{color:"#ff4d4f"}}),e.jsx("span",{children:"Inactive"})]})})]})}),e.jsx(V,{message:"Profile Update",description:(r==null?void 0:r.role)!=="Superadmin"?"Role and Status can only be changed by Superadmin users.":"You can update all profile fields including role and status.",type:"info",showIcon:!0,style:{marginTop:"16px"}})]})})]})}):e.jsxs("div",{style:{textAlign:"center",marginTop:"50px",color:"#999"},children:[e.jsx(A,{style:{fontSize:"48px",marginBottom:"16px"}}),e.jsx("div",{children:"Unable to load profile data. Please log in again."}),e.jsx(w,{type:"primary",onClick:()=>t("/login"),style:{marginTop:"16px"},children:"Back to Login"})]})};export{Pr as default};
